(this["webpackJsonpembawood-frontend-task"]=this["webpackJsonpembawood-frontend-task"]||[]).push([[0],{17:function(e,t,n){e.exports={header:"Header_header__2RDz-",navbar:"Header_navbar__l_CV7"}},32:function(e,t,n){e.exports={booksWrapper:"Books_booksWrapper__3lrLw",cardWrapper:"Books_cardWrapper__3VBdm"}},40:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(13),o=n.n(a),i=(n(40),n(29)),s=n.n(i),u=function(e,t){return s.a.get("".concat("https://api.itbook.store/1.0","/search/query=").concat(e,"&page=").concat(t)).then((function(e){return e.data}))},b="GET_BOOKS",j="SET_TOTAL_BOOKS",l="SET_BOOKS_PER_PAGE",d="GET_CURRENT_PAGE",O=function(e,t){return function(n){u(e,t).then((function(e){n({type:b,payload:e.books}),n({type:j,payload:e.total}),n({type:l,payload:e.books.length}),n({type:d,payload:e.page})}))}},p=n(8),f=n(17),h=n.n(f),g=n(1),x=function(){return Object(g.jsxs)("header",{className:h.a.header,children:[Object(g.jsx)("div",{children:"Book Store"}),Object(g.jsx)("div",{className:h.a.navbar,children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{children:Object(g.jsx)("a",{href:"/",children:"Homepage"})}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{href:"/shopping-cart",children:"Shopping Cart"})})]})})]})},k=n(71),v=n(69),P=function(e){var t=e.title,n=e.image,r=e.subtitle,c=e.url;return Object(g.jsxs)(k.a,{style:{width:"18rem"},children:[Object(g.jsx)(k.a.Img,{variant:"top",src:n}),Object(g.jsxs)(k.a.Body,{children:[Object(g.jsx)(k.a.Title,{children:t}),Object(g.jsx)(k.a.Text,{children:r}),Object(g.jsx)(v.a,{variant:"primary",onClick:function(){return function(e){window.open(e,"_blank")}(c)},children:"See details"})]})]})},m=n(32),_=n.n(m),y=function(e){var t=e.books;return Object(g.jsx)("div",{className:_.a.booksWrapper,children:t.map((function(e){return Object(g.jsx)(P,{image:e.image,title:e.title,subtitle:e.subtitle,url:e.url},e.isbn13)}))})},C=n(70),w=function(e){var t=e.total,n=e.booksPerPage,r=e.page,c=e.getCurrentPage,a=Number(r),o=[],i=Math.ceil(Number(t)/n);if(isFinite(i)){console.log(i);for(var s=function(e){o.push(Object(g.jsx)(C.a.Item,{active:e===a,onClick:function(){return c(e)},children:e},e))},u=1;u<=i;u++)s(u)}return Object(g.jsx)("div",{className:"d-flex justify-content-center mt-3",children:Object(g.jsxs)(C.a,{children:[Object(g.jsx)(C.a.First,{onClick:function(){return c(1)}}),Object(g.jsx)(C.a.Prev,{onClick:function(){return c(a-1)}}),o.map((function(e,t){return console.log(e,t),t<2||t>i-3||t>a-2&&t<a+2||t>a-3&&t<a+3?e:t===a+3||t===a-3?Object(g.jsx)(C.a.Ellipsis,{}):null})),Object(g.jsx)(C.a.Next,{onClick:function(){return c(a+1)}}),Object(g.jsx)(C.a.Last,{onClick:function(){return c(i)}})]})})},E=function(e){var t=e.books,n=e.total,r=e.booksPerPage,c=e.page,a=e.getCurrentPage;return Object(g.jsxs)("div",{children:[Object(g.jsx)(y,{books:t}),Object(g.jsx)(w,{total:n,booksPerPage:r,page:c,getCurrentPage:a})]})};n(67);var T=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.books})),n=Object(p.c)((function(e){return e.query})),c=Object(p.c)((function(e){return e.page})),a=Object(p.c)((function(e){return e.total})),o=Object(p.c)((function(e){return e.booksPerPage}));return Object(r.useEffect)((function(){e(O(n,c))}),[c]),Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(x,{}),Object(g.jsx)(E,{books:t,total:a,booksPerPage:o,page:c,getCurrentPage:function(t){e(O(n,t))}})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))},S=n(19),N=n(34),F=n(2),L={books:[],query:"",page:1,total:0,booksPerPage:0},W=Object(S.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(F.a)(Object(F.a)({},e),{},{books:t.payload});case j:return Object(F.a)(Object(F.a)({},e),{},{total:t.payload});case l:return Object(F.a)(Object(F.a)({},e),{},{booksPerPage:t.payload});case d:return Object(F.a)(Object(F.a)({},e),{},{page:t.payload});default:return e}}),Object(S.a)(N.a));window.store=W,o.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(p.a,{store:W,children:Object(g.jsx)(T,{})})}),document.getElementById("root")),B()}},[[68,1,2]]]);
//# sourceMappingURL=main.25a16179.chunk.js.map